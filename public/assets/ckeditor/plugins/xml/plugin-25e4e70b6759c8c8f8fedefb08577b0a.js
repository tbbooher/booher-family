/*
Copyright (c) 2003-2012, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
!function(){CKEDITOR.plugins.add("xml",{}),CKEDITOR.xml=function(e){var t=null;if("object"==typeof e)t=e;else{var a=(e||"").replace(/&nbsp;/g,"Â ");if(window.DOMParser)t=(new DOMParser).parseFromString(a,"text/xml");else if(window.ActiveXObject){try{t=new ActiveXObject("MSXML2.DOMDocument")}catch(i){try{t=new ActiveXObject("Microsoft.XmlDom")}catch(i){}}t&&(t.async=!1,t.resolveExternals=!1,t.validateOnParse=!1,t.loadXML(a))}}this.baseXml=t},CKEDITOR.xml.prototype={selectSingleNode:function(e,t){var a=this.baseXml;if(t||(t=a)){if(CKEDITOR.env.ie||t.selectSingleNode)return t.selectSingleNode(e);if(a.evaluate){var i=a.evaluate(e,t,null,9,null);return i&&i.singleNodeValue||null}}return null},selectNodes:function(e,t){var a=this.baseXml,i=[];if(t||(t=a)){if(CKEDITOR.env.ie||t.selectNodes)return t.selectNodes(e);if(a.evaluate){var n=a.evaluate(e,t,null,5,null);if(n)for(var o;o=n.iterateNext();)i.push(o)}}return i},getInnerXml:function(e,t){var a=this.selectSingleNode(e,t),i=[];if(a)for(a=a.firstChild;a;)a.xml?i.push(a.xml):window.XMLSerializer&&i.push((new XMLSerializer).serializeToString(a)),a=a.nextSibling;return i.length?i.join(""):null}}}();